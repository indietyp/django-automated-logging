language: python
python:
  - "3.6"
  - "3.7"
  - "3.8"

env:
  - DJANGO_VERSION=2.2
  - DJANGO_VERSION=3.0
  - DJANGO_VERSION=3.1

#matrix:
#  exclude:
#    - python: "3.4"
#      env: "DJANGO_VERSION=2.1"
#
#    - python: "3.4"
#      env: "DJANGO_VERSION=2.2"

install:
#  - sudo add-apt-repository -y ppa:jonathonf/backports
  - sudo apt-get update -y
  - sudo apt-get install -y sqlite3
  - pip install -r requirements.dev.txt
  - pip install Django~=$DJANGO_VERSION

script:
  - coverage run --source=automated_logging logtest/manage.py test automated_logging

after_success:
  - coveralls
  - python-codacy-coverage -r coverage.xml
